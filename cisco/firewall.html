<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>第 7 章 Firewall</title><link rel="stylesheet" type="text/css" href="/docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><meta name="keywords" content="pix,asa,3750,4507,5550, vlan,vtp, hsrp,vrrp, rip,ospf" /><link rel="home" href="index.html" title="Netkiller Cisco IOS 手札" /><link rel="up" href="index.html" title="Netkiller Cisco IOS 手札" /><link rel="prev" href="switch.example.html" title="6.14. Switch Config Example" /><link rel="next" href="asa.html" title="7.2. Cisco ASA Firewall" /></head><body><a xmlns="" href="http://www.netkiller.cn/">Home</a> |
		<a xmlns="" href="http://netkiller.github.io/">简体中文</a> |
	    <a xmlns="" href="http://netkiller.sourceforge.net/">繁体中文</a> |
	    <a xmlns="" href="/journal/index.html">杂文</a> |
	    <a xmlns="" href="//www.netkiller.cn/home/donations.html">打赏(Donations)</a> |
	    <a xmlns="" href="http://netkiller-github-com.iteye.com/">ITEYE 博客</a> |
	    <a xmlns="" href="http://my.oschina.net/neochen/">OSChina 博客</a> |
	    <a xmlns="" href="https://www.facebook.com/bg7nyt">Facebook</a> |
	    <a xmlns="" href="http://cn.linkedin.com/in/netkiller/">Linkedin</a> |
	    <a xmlns="" href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> |
	    <a xmlns="" href="/search.html">Search</a> |
		<a xmlns="" href="mailto:netkiller@msn.com">Email</a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">第 7 章 Firewall</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="switch.example.html">上一页</a> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="asa.html">下一页</a></td></tr></table><hr /></div><table xmlns=""><tr><td><iframe src="http://ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=watch&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="http://ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=fork&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="http://ghbtns.com/github-btn.html?user=netkiller&amp;type=follow&amp;count=true&amp;size=large" height="30" width="240" frameborder="0" scrolling="0" style="width:240px; height: 30px;" allowTransparency="true"></iframe></td></tr></table><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="firewall"></a>第 7 章 Firewall</h1></div></div></div><div class="toc"><p><strong>目录</strong></p><dl class="toc"><dt><span class="section"><a href="firewall.html#pix">7.1. Cisco PIX Firewall</a></span></dt><dd><dl><dt><span class="section"><a href="firewall.html#firewall.tech-support">7.1.1. cisco PIX 515E的全部数据与配置</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.clear">7.1.2. 清除所有配置</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.enable">7.1.3. 配置防火墙的用户信息</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.interface">7.1.4. 接口设置</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.nat">7.1.5. 配置NAT配置映射</a></span></dt><dd><dl><dt><span class="section"><a href="firewall.html#idp59">7.1.5.1. 端口映射</a></span></dt><dt><span class="section"><a href="firewall.html#idp60">7.1.5.2. IP 映射</a></span></dt></dl></dd><dt><span class="section"><a href="firewall.html#firewall.route">7.1.6. 配置路由</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.conduit">7.1.7. 策略</a></span></dt><dd><dl><dt><span class="section"><a href="firewall.html#idp61">7.1.7.1. Ping</a></span></dt><dt><span class="section"><a href="firewall.html#idp62">7.1.7.2. SSH</a></span></dt></dl></dd><dt><span class="section"><a href="firewall.html#firewall.acl">7.1.8. ACL</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.telnet">7.1.9. 配置远程telnet访问</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.dhcp">7.1.10. 配置DHCP</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.vpn">7.1.11. VPN</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.ddos">7.1.12. 防止DDOS攻击</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.snmp">7.1.13. SNMP</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.http">7.1.14. 开启WEB管理</a></span></dt><dt><span class="section"><a href="firewall.html#firewall.save">7.1.15. 保存</a></span></dt><dd><dl><dt><span class="section"><a href="firewall.html#idp63">7.1.15.1. 备份及恢复</a></span></dt></dl></dd><dt><span class="section"><a href="firewall.html#firewall.xlate">7.1.16. clear</a></span></dt><dd><dl><dt><span class="section"><a href="firewall.html#idp64">7.1.16.1. NAT映射更改后仍然指向之前的IP</a></span></dt><dt><span class="section"><a href="firewall.html#idp65">7.1.16.2. reload</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="asa.html">7.2. Cisco ASA Firewall</a></span></dt><dd><dl><dt><span class="section"><a href="asa.html#asa.start">7.2.1. Console 登录</a></span></dt><dd><dl><dt><span class="section"><a href="asa.html#idp66">7.2.1.1. 清除配置文件</a></span></dt></dl></dd><dt><span class="section"><a href="asa.html#asa.management">7.2.2. Management0/0</a></span></dt><dt><span class="section"><a href="asa.html#asa.interface">7.2.3. 接口配置</a></span></dt><dd><dl><dt><span class="section"><a href="asa.html#idp67">7.2.3.1. 子接口</a></span></dt></dl></dd><dt><span class="section"><a href="asa.html#asa.route">7.2.4. route</a></span></dt><dt><span class="section"><a href="asa.html#asa.acl">7.2.5. ACL</a></span></dt><dd><dl><dt><span class="section"><a href="asa.html#idp68">7.2.5.1. Blacklist</a></span></dt><dt><span class="section"><a href="asa.html#idp69">7.2.5.2. Whitelist</a></span></dt><dt><span class="section"><a href="asa.html#object-group">7.2.5.3. object-group</a></span></dt><dt><span class="section"><a href="asa.html#idp70">7.2.5.4. Example</a></span></dt></dl></dd><dt><span class="section"><a href="asa.html#asa.nat">7.2.6. 配置NAT映射</a></span></dt><dd><dl><dt><span class="section"><a href="asa.html#asa.nat.ip">7.2.6.1. IP 映射</a></span></dt><dt><span class="section"><a href="asa.html#asa.nat.port">7.2.6.2. 端口映射</a></span></dt></dl></dd><dt><span class="section"><a href="asa.html#asa.timeout">7.2.7. timeout</a></span></dt><dt><span class="section"><a href="asa.html#asa.dhcpd">7.2.8. DHCP</a></span></dt><dd><dl><dt><span class="section"><a href="asa.html#idp71">7.2.8.1. management</a></span></dt><dt><span class="section"><a href="asa.html#idp72">7.2.8.2. inside</a></span></dt></dl></dd><dt><span class="section"><a href="asa.html#asa.snmp">7.2.9. SNMP</a></span></dt><dt><span class="section"><a href="asa.html#asa.login">7.2.10. 用户登录</a></span></dt><dd><dl><dt><span class="section"><a href="asa.html#idp73">7.2.10.1. Telnet</a></span></dt><dt><span class="section"><a href="asa.html#idp74">7.2.10.2. SSH</a></span></dt></dl></dd><dt><span class="section"><a href="asa.html#asa.vpn">7.2.11. VPN</a></span></dt><dd><dl><dt><span class="section"><a href="asa.html#idp75">7.2.11.1. site to site</a></span></dt><dt><span class="section"><a href="asa.html#idp76">7.2.11.2. webvpn</a></span></dt></dl></dd><dt><span class="section"><a href="asa.html#asa.ervice-policy">7.2.12. service-policy</a></span></dt><dt><span class="section"><a href="asa.html#asa.failover">7.2.13. failover</a></span></dt><dt><span class="section"><a href="asa.html#transparent">7.2.14. 透明防火墙(transparent)</a></span></dt><dt><span class="section"><a href="asa.html#logging">7.2.15. logging</a></span></dt><dt><span class="section"><a href="asa.html#ntp">7.2.16. ntp</a></span></dt><dt><span class="section"><a href="asa.html#asdm">7.2.17. asdm</a></span></dt><dt><span class="section"><a href="asa.html#idp77">7.2.18. 备份配置文件</a></span></dt></dl></dd><dt><span class="section"><a href="firewall.show.html">7.3. 查看命令</a></span></dt><dd><dl><dt><span class="section"><a href="firewall.show.html#idp78">7.3.1. show interface</a></span></dt><dt><span class="section"><a href="firewall.show.html#idp79">7.3.2. show static</a></span></dt><dt><span class="section"><a href="firewall.show.html#idp80">7.3.3. show ip</a></span></dt><dt><span class="section"><a href="firewall.show.html#idp81">7.3.4. show cpu usage</a></span></dt><dt><span class="section"><a href="firewall.show.html#idp82">7.3.5. show conn count</a></span></dt><dt><span class="section"><a href="firewall.show.html#idp83">7.3.6. show blocks</a></span></dt><dt><span class="section"><a href="firewall.show.html#idp84">7.3.7. show mem</a></span></dt><dt><span class="section"><a href="firewall.show.html#idp85">7.3.8. show traffic</a></span></dt><dt><span class="section"><a href="firewall.show.html#idp86">7.3.9. show xlate</a></span></dt></dl></dd><dt><span class="section"><a href="faq.html">7.4. FAQ</a></span></dt><dd><dl><dt><span class="section"><a href="faq.html#faq.nat">7.4.1. inside 不能到达 outside</a></span></dt></dl></dd><dt><span class="section"><a href="firewall.example.html">7.5. Example</a></span></dt><dd><dl><dt><span class="section"><a href="firewall.example.html#asa5550">7.5.1. ASA Firewall</a></span></dt></dl></dd></dl></div>
	
	
<div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pix"></a>7.1. Cisco PIX Firewall</h2></div><div><h3 class="subtitle">Cisco PIX 515E</h3></div></div></div>
	
	
	<div class="procedure"><a id="idp116"></a><p class="title"><strong>过程 7.1. Login Pix515E</strong></p><ol class="procedure" type="1"><li class="step">
			<p>登陆</p>
			<pre class="screen">
1.、telnet 192.168.0.1
   User Access Verification
   Password:（输入密码出现如下信息：）
   Type help or '?' for a list of available commands.
   weibo&gt;
   （此时是PIX 515E的无特权模式，此模式只能查看，并且只能查看防火墙的系统信息）
  /**************chase*********************/
			</pre>
		</li><li class="step">
			<p>Then do this.</p>
			<pre class="screen">
2.、enable（进入特权模式，出现如下信息）
   password:（输入密码进入特权模式）
   weibo#（weibo&gt;变为weibo#）
   （在特权模式下只能查看放火墙的配置不能修改防火墙的配置，用disable退出特权模式返回无特权模式）
  /*************chase*********************/
			</pre>
		</li><li class="step">
			<p>And now do this.</p>
			<pre class="screen">
conf t（进入配置模式，出现如下信息）
firewall(config)#（weibo#变为weibo(config)#）
   （在配置模式才能修改防火墙的配置，用exit、quit退出配置模式到特权模式）
			</pre>
		</li></ol></div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.tech-support"></a>7.1.1. cisco PIX 515E的全部数据与配置</h3></div></div></div>
		
		<p>show tech-support</p>
		<pre class="screen">
firewall(config)# show tech-support

Cisco PIX Firewall Version 6.3(5)

Compiled on Thu 04-Aug-05 21:40 by morlee

firewall up 36 mins 41 secs

Hardware:   PIX-515E, 128 MB RAM, CPU Pentium II 433 MHz
Flash E28F128J3 @ 0x300, 16MB
BIOS Flash AM29F400B @ 0xfffd8000, 32KB

0: ethernet0: address is 001c.58b5.6e80, irq 10
1: ethernet1: address is 001c.58b5.6e81, irq 11
Licensed Features:
Failover:                    Disabled
VPN-DES:                     Enabled
VPN-3DES-AES:                Enabled
Maximum Physical Interfaces: 3
Maximum Interfaces:          5
Cut-through Proxy:           Enabled
Guards:                      Enabled
URL-filtering:               Enabled
Inside Hosts:                Unlimited
Throughput:                  Unlimited
IKE peers:                   Unlimited

This PIX has a Restricted (R) license.

Serial Number: 810323551 (0x304c8e5f)
Running Activation Key: 0x1512d3bb 0xdbb4b468 0xb28e1dc9 0x1b826959
Configuration last modified by enable_15 at 23:06:10.370 UTC Thu Sep 2 2010

------------------ show clock ------------------

23:08:58.073 UTC Thu Sep 2 2010

------------------ show memory ------------------

Free memory:        79151528 bytes
Used memory:        55066200 bytes
-------------     ----------------
Total memory:      134217728 bytes

------------------ show conn count ------------------

0 in use, 0 most used

------------------ show xlate count ------------------

0 in use, 0 most used

------------------ show blocks ------------------

  SIZE    MAX    LOW    CNT
     4   1600   1600   1600
    80    400    400    400
   256    500    499    500
  1550    933    667    676

------------------ show interface ------------------

interface ethernet0 "outside" is up, line protocol is down
  Hardware is i82559 ethernet, address is 001c.58b5.6e80
  IP address 172.16.0.30, subnet mask 255.255.255.0
  MTU 1500 bytes, BW 10000 Kbit half duplex
        0 packets input, 0 bytes, 0 no buffer
        Received 0 broadcasts, 0 runts, 0 giants
        0 input errors, 0 CRC, 0 frame, 0 overrun, 0 ignored, 0 abort
        2 packets output, 120 bytes, 0 underruns
        0 output errors, 0 collisions, 0 interface resets
        0 babbles, 0 late collisions, 0 deferred
        2 lost carrier, 0 no carrier
        input queue (curr/max blocks): hardware (128/128) software (0/0)
        output queue (curr/max blocks): hardware (0/1) software (0/1)
interface ethernet1 "inside" is up, line protocol is down
  Hardware is i82559 ethernet, address is 001c.58b5.6e81
  IP address 172.16.1.254, subnet mask 255.255.255.0
  MTU 1500 bytes, BW 10000 Kbit half duplex
        0 packets input, 0 bytes, 0 no buffer
        Received 0 broadcasts, 0 runts, 0 giants
        0 input errors, 0 CRC, 0 frame, 0 overrun, 0 ignored, 0 abort
        3 packets output, 180 bytes, 0 underruns
        0 output errors, 0 collisions, 0 interface resets
        0 babbles, 0 late collisions, 0 deferred
        3 lost carrier, 0 no carrier
        input queue (curr/max blocks): hardware (128/128) software (0/0)
        output queue (curr/max blocks): hardware (0/1) software (0/1)

------------------ show cpu usage ------------------

CPU utilization for 5 seconds = 0%; 1 minute: 0%; 5 minutes: 0%

------------------ show process ------------------


    PC       SP       STATE       Runtime    SBASE     Stack Process
Hsi 001f02c9 00953044 0056ed50          0 009520bc 3916/4096 arp_timer
Lsi 001f5a95 009f623c 0056ed50          0 009f52c4 3928/4096 FragDBGC
Lwe 0011a13f 00a0236c 005724b8          0 00a01504 3688/4096 dbgtrace
Lwe 003fb2fd 00a044fc 00567688          0 00a025b4 8008/8192 Logger
Hwe 003ff4b8 00a075f4 00567938          0 00a0567c 8024/8192 tcp_fast
Hwe 003ff431 00a096a4 00567938          0 00a0772c 8024/8192 tcp_slow
Lsi 00314885 028e9924 0056ed50          0 028e899c 3916/4096 xlate clean
Lsi 00314793 028ea9c4 0056ed50          0 028e9a4c 3884/4096 uxlate clean
Mwe 0030be5f 02d7edc4 0056ed50          0 02d7ce2c 7908/8192 tcp_intercept_timer_process
Lsi 00452ee5 02e2b79c 0056ed50          0 02e2a814 3900/4096 route_process
Hsi 002fb6fc 02e2c82c 0056ed50         20 02e2b8c4 3780/4096 PIX Garbage Collector
Hwe 0021e529 02e36d5c 0056ed50          0 02e32df4 16048/16384 isakmp_time_keeper
Lsi 002f929c 02e5069c 0056ed50          0 02e4f714 3944/4096 perfmon
Mwe 00214d39 02e7aacc 0056ed50          0 02e78b54 7860/8192 IPsec timer handler
Hwe 003b105b 02e8ee14 00591c90          0 02e8cecc 7000/8192 qos_metric_daemon
Mwe 0026d0dd 02ea996c 0056ed50          0 02ea5a04 15592/16384 IP Background
Lwe 0030cad6 02f5c2bc 00585368          0 02f5b444 3704/4096 pix/trace
Lwe 0030cd0e 02f5d36c 00585a98          0 02f5c4f4 3704/4096 pix/tconsole
H*  0011fa67 0009ff2c 0056ed38       1310 02f63784 13136/16384 ci/console
Csi 003048fb 02f6878c 0056ed50          0 02f67834 3432/4096 update_cpu_usage
Hwe 002ef791 03019534 0054e100          0 030156ac 15884/16384 uauth_in
Hwe 003fdf05 0301b634 00892508          0 0301975c 7896/8192 uauth_thread
Hwe 0041553a 0301c784 00567c88          0 0301b80c 3960/4096 udp_timer
Hsi 001e7d4e 0301e444 0056ed50          0 0301d4cc 3800/4096 557mcfix
Crd 001e7d03 0301f504 0056f1c8    1638450 0301e57c 3632/4096 557poll
Lsi 001e7dbd 030205a4 0056ed50          0 0301f62c 3848/4096 557timer
Cwe 001e99a9 0332267c 007f1058          0 03320784 7928/8192 pix/intf0
Mwe 004152aa 0332378c 008dc6f8          0 03322854 3896/4096 riprx/0
Msi 003ba8a1 0332489c 0056ed50          0 03323924 3888/4096 riptx/0
Cwe 001e99a9 03426aa4 00779ae0          0 03424bac 7928/8192 pix/intf1
Mwe 004152aa 03427bb4 008dc6b0          0 03426c7c 3896/4096 riprx/1
Msi 003ba8a1 03428cc4 0056ed50          0 03427d4c 3888/4096 riptx/1
Hwe 003fe199 0344d67c 00868c90          0 0344d034 1196/2048 listen/telnet_1
Mwe 0038707e 0344f85c 0056ed50          0 0344d8e4 7960/8192 Crypto CA

------------------ show failover ------------------

No license for Failover

------------------ show traffic ------------------

outside:
        received (in 2214.880 secs):
                0 packets       0 bytes
                0 pkts/sec      0 bytes/sec
        transmitted (in 2214.880 secs):
                2 packets       120 bytes
                0 pkts/sec      0 bytes/sec
inside:
        received (in 2214.880 secs):
                0 packets       0 bytes
                0 pkts/sec      0 bytes/sec
        transmitted (in 2214.880 secs):
                3 packets       180 bytes
                0 pkts/sec      0 bytes/sec

------------------ show perfmon ------------------


PERFMON STATS:    Current      Average
Xlates               0/s          0/s
Connections          0/s          0/s
TCP Conns            0/s          0/s
UDP Conns            0/s          0/s
URL Access           0/s          0/s
URL Server Req       0/s          0/s
TCP Fixup            0/s          0/s
TCPIntercept         0/s          0/s
HTTP Fixup           0/s          0/s
FTP Fixup            0/s          0/s
AAA Authen           0/s          0/s
AAA Author           0/s          0/s
AAA Account          0/s          0/s

------------------ show running-config ------------------

: Saved
:
PIX Version 6.3(5)
interface ethernet0 auto
interface ethernet1 auto
nameif ethernet0 outside security0
nameif ethernet1 inside security100
enable password 8Ry2YjIyt7RRXU24 encrypted
passwd 2KFQnbNIdI.2KYOU encrypted
hostname pixfirewall
fixup protocol dns maximum-length 512
fixup protocol ftp 21
fixup protocol h323 h225 1720
fixup protocol h323 ras 1718-1719
fixup protocol http 80
fixup protocol rsh 514
fixup protocol rtsp 554
fixup protocol sip 5060
fixup protocol sip udp 5060
fixup protocol skinny 2000
fixup protocol smtp 25
fixup protocol sqlnet 1521
fixup protocol tftp 69
names
pager lines 24
mtu outside 1500
mtu inside 1500
no ip address outside
no ip address inside
ip audit info action alarm
ip audit attack action alarm
pdm history enable
arp timeout 14400
timeout xlate 3:00:00
timeout conn 1:00:00 half-closed 0:10:00 udp 0:02:00 rpc 0:10:00 h225 1:00:00
timeout h323 0:05:00 mgcp 0:05:00 sip 0:30:00 sip_media 0:02:00
timeout sip-disconnect 0:02:00 sip-invite 0:03:00
timeout uauth 0:05:00 absolute
aaa-server TACACS+ protocol tacacs+
aaa-server TACACS+ max-failed-attempts 3
aaa-server TACACS+ deadtime 10
aaa-server RADIUS protocol radius
aaa-server RADIUS max-failed-attempts 3
aaa-server RADIUS deadtime 10
aaa-server LOCAL protocol local
no snmp-server location
no snmp-server contact
snmp-server community public
no snmp-server enable traps
floodguard enable
telnet timeout 5
ssh timeout 5
console timeout 0
terminal width 80
Cryptochecksum:00000000000000000000000000000000
: end
firewall(config)#

		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.clear"></a>7.1.2. 清除所有配置</h3></div></div></div>
		
		<pre class="screen">
pix# conf t
pix(config)# clear config all
pixfirewall(config)# quit
pixfirewall# show run
: Saved
:
PIX Version 6.3(5)
interface ethernet0 auto
interface ethernet1 auto
nameif ethernet0 outside security0
nameif ethernet1 inside security100
enable password 8Ry2YjIyt7RRXU24 encrypted
passwd 2KFQnbNIdI.2KYOU encrypted
hostname pixfirewall
fixup protocol dns maximum-length 512
fixup protocol ftp 21
fixup protocol h323 h225 1720
fixup protocol h323 ras 1718-1719
fixup protocol http 80
fixup protocol rsh 514
fixup protocol rtsp 554
fixup protocol sip 5060
fixup protocol sip udp 5060
fixup protocol skinny 2000
fixup protocol smtp 25
fixup protocol sqlnet 1521
fixup protocol tftp 69
names
pager lines 24
mtu outside 1500
mtu inside 1500
no ip address outside
no ip address inside
ip audit info action alarm
ip audit attack action alarm
pdm history enable
arp timeout 14400
timeout xlate 3:00:00
timeout conn 1:00:00 half-closed 0:10:00 udp 0:02:00 rpc 0:10:00 h225 1:00:00
timeout h323 0:05:00 mgcp 0:05:00 sip 0:30:00 sip_media 0:02:00
timeout sip-disconnect 0:02:00 sip-invite 0:03:00
timeout uauth 0:05:00 absolute
aaa-server TACACS+ protocol tacacs+
aaa-server TACACS+ max-failed-attempts 3
aaa-server TACACS+ deadtime 10
aaa-server RADIUS protocol radius
aaa-server RADIUS max-failed-attempts 3
aaa-server RADIUS deadtime 10
aaa-server LOCAL protocol local
no snmp-server location
no snmp-server contact
snmp-server community public
no snmp-server enable traps
floodguard enable
telnet timeout 5
ssh timeout 5
console timeout 0
terminal width 80
Cryptochecksum:00000000000000000000000000000000
: end
pixfirewall#

		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.enable"></a>7.1.3. 配置防火墙的用户信息</h3></div></div></div>
		
		<pre class="screen">
enable password chen
hostname pix515
domain-name example.com

pixfirewall# conf t
pixfirewall(config)# enable password chen
pixfirewall(config)# hostname firewall
firewall(config)# domain-name example.com
firewall(config)#
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.interface"></a>7.1.4. 接口设置</h3></div></div></div>
		
		<p>激活以太端口</p>
		<pre class="screen">
interface ethernet0 auto
interface ethernet1 auto
interface ethernet2 auto
interface ethernet3 auto


firewall(config)# interface ethernet0 auto
firewall(config)# interface ethernet1 auto
		</pre>
		<p>下面两句配置内外端口的安全级别</p>
		<pre class="screen">
nameif ethernet0 outside security0
nameif ethernet1 inside security100

firewall(config)# nameif ethernet0 outside security0
firewall(config)# nameif ethernet1 inside security100

		</pre>
		<p>配置以太端口ip 地址</p>
		<pre class="screen">
ip address outside 61.144.203.114 255.255.255.244
ip address inside 192.168.0.1 255.255.255.0
ip address dmz 172.16.0.1 255.255.255.0
ip address e3 61.233.203.47 255.255.255.192
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.nat"></a>7.1.5. 配置NAT配置映射</h3></div></div></div>
		
		<pre class="screen">
global (outside) 1 interface
nat (inside) 1 172.16.1.0 255.255.255.0 0 0
		</pre>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idp59"></a>7.1.5.1. 端口映射</h4></div></div></div>
			
			<p>WAN IP:PORT --&gt; LAN IP:PORT</p>
			<pre class="screen">
static (inside,outside) tcp 61.144.203.40 80 192.168.0.116 80 netmask 255.255.255.255 0 0
static (inside,outside) tcp 61.144.203.40 20 192.168.0.116 20 netmask 255.255.255.255 0 0
static (inside,outside) tcp 61.144.203.41 21 192.168.0.116 21 netmask 255.255.255.255 0 0
pix515(config)# static (inside,outside) tcp 61.144.23.50 22 192.168.0.11 22 netmask 255.255.255.255 0 0
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idp60"></a>7.1.5.2. IP 映射</h4></div></div></div>
			
			<p>WAN IP --&gt; LAN IP</p>
			<pre class="screen">
static (inside,outside) 120.13.14.28 172.16.1.28 netmask 255.255.255.255 0 0
			</pre>
		</div>

	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.route"></a>7.1.6. 配置路由</h3></div></div></div>
		
		<p>配置outside使用的网关</p>
		<pre class="screen">
route outside 0.0.0.0 0.0.0.0 120.13.14.1 1
route e3 0.0.0.0 0.0.0.0 61.233.203.1 2
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.conduit"></a>7.1.7. 策略</h3></div></div></div>
		
		<p>conduit permit tcp host 公网IP eq ssh 信任IP 255.255.255.255 (这种写法，是信任某个IP）</p>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idp61"></a>7.1.7.1. Ping</h4></div></div></div>
			
			<p>下面这句允许ping</p>
			<pre class="screen">
pix515(config)#conduit permit icmp any any
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idp62"></a>7.1.7.2. SSH</h4></div></div></div>
			
			<pre class="screen">
pix515(config)# conduit permit tcp host 61.144.23.50 eq ssh any
			</pre>
		</div>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.acl"></a>7.1.8. ACL</h3></div></div></div>
		
		<pre class="screen">
1、配置内网到VPN不做NAT
   access-list 107 permit ip 192.168.0.0 255.255.255.0 172.16.1.0 255.255.255.0
  （建立内网--&gt;VPN的访问列表）
   nat (inside) 0 access-list 107 （内网--&gt;VPN不做NAT，引用上一步access-list 107）

2、配置内网到DMZ 做NAT
   access-list 102 permit tcp 192.168.0.0 255.255.255.0 host 172.16.0.103 eq 1433
   access-list 102 permit tcp 192.168.0.0 255.255.255.0 host 172.16.0.103 eq 3125
   nat (inside) 2 access-list 102（内网--&gt;DMZ做NAT，引用上一步access-list 102）

3、配置内网到Internet 做NAT
   access-list 101 permit ip 192.168.0.0 255.255.255.0 any
   nat (inside) 1 access-list 101 0 0

4、配置DMZ到VPN不做NAT
   access-list 107 permit ip 172.16.0.0 255.255.255.0 172.16.1.0 255.255.255.0
  （建立内网--&gt;VPN的访问列表）
   nat (DMZ) 0 access-list 107

4、配置VPN到DMZ不做NAT
   access-list 150 permit ip 172.16.1.0 255.255.255.0 172.16.0.0 255.255.255.0
  （建立内网--&gt;VPN的访问列表）
   nat (e3) 0 access-list 150
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.telnet"></a>7.1.9. 配置远程telnet访问</h3></div></div></div>
		
		<pre class="screen">
password chen （把telnet的密码修改为chen）
telnet 192.168.0.1 255.255.255.255 inside（开启内网口的telnet服务）
telnet 192.168.0.0 255.255.255.0 inside（允许所有内网用户访问telnet服务）
telnet 0.0.0.0 0.0.0.0 e3
telnet 61.144.203.41 255.255.255.255 e3
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.dhcp"></a>7.1.10. 配置DHCP</h3></div></div></div>
		
		<pre class="screen">
pix515(config)#ip address dhcp
pix515(config)#dhcpd enable inside
pix515(config)#dhcpd auto_config outside（自动配置外网DHCP服务参数）
pix515(config)#dhcpd address 172.16.0.20-172.16.0.200 inside （内网DHCP分配的IP地址范围）
pix515(config)#dhcpd dns 208.67.222.222 208.67.220.220
pix515(config)#dhcpd domain example.com
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.vpn"></a>7.1.11. VPN</h3></div></div></div>
		
		<p>PPTP</p>
		<pre class="screen">
1、命令行方式直接在PIX上配置PPTP的VPN，即PIX作为PPTP方式VPDN的服务器
    ip local pool pptp 10.0.0.1-10.0.0.50
    //定义一个pptp 方式的vpdn拨入后获得的IP地址池，名字叫做pptp。此处地址段的定义范围不要和拨入后内网其他计算机的IP冲突，并且要根据拨入用户的数量来定义地址池的大小
    vpdn group PPTP-VPDN-GROUP accept dialin pptp
    vpdn group PPTP-VPDN-GROUP ppp authentication pap
    vpdn group PPTP-VPDN-GROUP ppp authentication chap
    vpdn group PPTP-VPDN-GROUP ppp authentication mschap
    vpdn group PPTP-VPDN-GROUP ppp encryption mppe auto
    //以上为配置pptp的vpdn组的相关属性
    vpdn group PPTP-VPDN-GROUP client configuration address local pptp
    //上面定义pptp的vpnd组使用本地地址池组pptp，为一开始定义的
    vpdn group PPTP-VPDN-GROUP pptp echo 60
    vpdn group PPTP-VPDN-GROUP client authentication local
    //此处配置pptp的vpdn拨入用户口令认证为本地认证，当然也可以选择AAA服务器认证，本地认证属于比较方便的一种实现
    vpdn username test1 password *********
    vpdn username test2 password *********
    //上面为定义本地用户认证的用户帐号和密码，可以定义多个
    vpdn enable outside
    //在pix防火墙的outside口起用vpdn功能，也可以在其他接口上应用
　　2、使用pix防火墙内部的某个pptp的VPDN服务器作为专门的VPN服务器，只是在pix上开放相应的服务端口
　　pptp使用1723端口，而通常pix里面的服务器对外都是做的静态NAT转换，但是光双向开放1723端口仍旧无法建立pptp的vpn连接，那么对于pix 6.3以上版本的pptp穿透可以用一条命令fixup protocol pptp 1723 来解决这个问题。
		</pre>
		<p>Ipsec VPN 配置</p>
		<pre class="screen">
ip local pool pigpool 172.16.1.50-172.16.1.240  （建立VPN的地址空间）
sysopt connection permit-ipsec（开启系统ipsec端口）
sysopt connection permit-pptp（开启系统pptp端口）
sysopt connection permit-l2tp（开启系统l2tp端口）

isakmp enable e3 （e3接口启用isakmp）
isakmp policy 8 encryption des（定义phase 1协商用DES加密算法）
isakmp policy 8 hash md5（定义phase 1协商用MD5散列算法）
isakmp policy 8 authentication pre-share（定义phase 1使用pre-shared key进行认证）
isakmp key pix address 0.0.0.0 netmask 0.0.0.0（定义使用共享密匙pix）
isakmp client configuration address-pool local pigpool e3（将VPN client地址池绑定到isakmp）
isakmp policy 8 group 2（isakmp policy 10 group 2）
crypto ipsec transform-set strong-des esp-3des esp-sha-hmac（定义一个变换集strong-des）
crypto dynamic-map cisco 4 set transform-set strong-des（把strong-des添加到动态加密策略cisco）
crypto map partner-map 20 ipsec-isakmp dynamic cisco（把动态加密策略绑定到partner-map 加密图）
crypto map partner-map client configuration address initiate（定义给每个客户端分配IP地址）
crypto map partner-map client configuration address respond（定义PIX防火墙接受来自任何IP的请求）
crypto map partner-map interface e3（把动态加密图vpnpeer绑定到e3口）
vpdn group 2 accept dialin l2tp
vpdn group 2 ppp authentication pap
vpdn group 2 client configuration address local pigpool
vpdn group 2 client authentication local
vpdn group 2 l2tp tunnel hello 80
vpdn username pix password pix（设置vpn密码，密码必须与共享密匙一样）
vpdn enable e3
		</pre>
		<p>vpn本地身份验证</p>
		<pre class="screen">
crypto map vpnpeer client authentication LOCAL
username whr password whr
no username whr
		</pre>
		<p>修改VPN拨入密码</p>
		<pre class="screen">

no isakmp key ******** address 0.0.0.0 netmask 0.0.0.0（删除共享密匙）
isakmp key whr address 0.0.0.0 netmask 0.0.0.0     （设置共享密匙）
vpdn username chase （删除chase用户）
vpdn username chase password whr  （设置用户名为chase；密码为whr；密码要与共享密匙相同）
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.ddos"></a>7.1.12. 防止DDOS攻击</h3></div></div></div>
		
		<p>网上找到的，我不确认是否可以起到效果：）</p>
		<pre class="screen">
步骤1：开启日志功能，并确定系统日志级别
logging on
logging trap 7（7为最高级别了）
步骤2：确定一台日志服务器(192.168.1.10)，并把系统日志输出导系统日志服务器上
logging host inside 192.168.1.10
步骤3：配置入侵检测（IDS) 为攻击类特征码和信息类特征码创建策略
ip audit name attackpolicy attack action alarm reset
ip audit name infopolicy info action alarm reset
步骤4：在接口上启用策略
ip audit interface outside attackpolicy
ip audit interface outside infopolicy
步骤5：在日志服务器上安装日志软件（如果是LINUX可免了）
Kiwi_Syslogd2.exe
步骤6：大功告成了。
		</pre>
	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.snmp"></a>7.1.13. SNMP</h3></div></div></div>
		
		<pre class="screen">
firewall(config)# sh snmp
snmp-server host inside 172.16.0.5 		"安装了MRTG和Cacti服务器地址
snmp-server location 172.16.0.1 		"位置描述，可以写内网端口地址，或者更直观的描述如：gateway firewall
snmp-server contact netkiller@example.com
snmp-server community cisco 			"public
snmp-server enable traps 				"允许管理信息发送
		</pre>
		<p>PIX 515 仅支持snmp v1</p>
		<pre class="screen">
neo@monitor:~$ snmpwalk -v1 -c public 172.16.1.254 interfaces.ifTable.ifEntry.ifDescr
IF-MIB::ifDescr.1 = STRING: PIX Firewall 'outside' interface
IF-MIB::ifDescr.2 = STRING: PIX Firewall 'inside' interface


neo@monitor:~$ snmpwalk -v1 -c public 172.16.1.254
SNMPv2-MIB::sysDescr.0 = STRING: Cisco PIX Firewall Version 6.3(5)

SNMPv2-MIB::sysObjectID.0 = OID: SNMPv2-SMI::enterprises.9.1.451
DISMAN-EVENT-MIB::sysUpTimeInstance = Timeticks: (1899600400) 219 days, 20:40:04.00
SNMPv2-MIB::sysContact.0 = STRING: neo.chen@example.com
SNMPv2-MIB::sysName.0 = STRING: firewall.example.com
SNMPv2-MIB::sysLocation.0 = STRING: gw
SNMPv2-MIB::sysServices.0 = INTEGER: 4
IF-MIB::ifNumber.0 = INTEGER: 2
IF-MIB::ifIndex.1 = INTEGER: 1
IF-MIB::ifIndex.2 = INTEGER: 2
IF-MIB::ifDescr.1 = STRING: PIX Firewall 'outside' interface
IF-MIB::ifDescr.2 = STRING: PIX Firewall 'inside' interface
IF-MIB::ifType.1 = INTEGER: ethernetCsmacd(6)
IF-MIB::ifType.2 = INTEGER: ethernetCsmacd(6)
IF-MIB::ifMtu.1 = INTEGER: 1500
IF-MIB::ifMtu.2 = INTEGER: 1500
IF-MIB::ifSpeed.1 = Gauge32: 100000000
IF-MIB::ifSpeed.2 = Gauge32: 100000000
IF-MIB::ifPhysAddress.1 = STRING: 0:1c:58:b5:6e:80
IF-MIB::ifPhysAddress.2 = STRING: 0:1c:58:b5:6e:81
IF-MIB::ifAdminStatus.1 = INTEGER: up(1)
IF-MIB::ifAdminStatus.2 = INTEGER: up(1)
IF-MIB::ifOperStatus.1 = INTEGER: up(1)
IF-MIB::ifOperStatus.2 = INTEGER: up(1)
IF-MIB::ifLastChange.1 = Timeticks: (0) 0:00:00.00
IF-MIB::ifLastChange.2 = Timeticks: (0) 0:00:00.00
IF-MIB::ifInOctets.1 = Counter32: 4008321683
IF-MIB::ifInOctets.2 = Counter32: 4051905092
IF-MIB::ifInUcastPkts.1 = Counter32: 2797544526
IF-MIB::ifInUcastPkts.2 = Counter32: 2017238766
IF-MIB::ifInNUcastPkts.1 = Counter32: 38465473
IF-MIB::ifInNUcastPkts.2 = Counter32: 27783306
IF-MIB::ifInDiscards.1 = Counter32: 0
IF-MIB::ifInDiscards.2 = Counter32: 0
IF-MIB::ifInErrors.1 = Counter32: 16601
IF-MIB::ifInErrors.2 = Counter32: 32841
IF-MIB::ifInUnknownProtos.1 = Counter32: 0
IF-MIB::ifInUnknownProtos.2 = Counter32: 0
IF-MIB::ifOutOctets.1 = Counter32: 2947292253
IF-MIB::ifOutOctets.2 = Counter32: 3544827218
IF-MIB::ifOutUcastPkts.1 = Counter32: 1968227296
IF-MIB::ifOutUcastPkts.2 = Counter32: 2414528344
IF-MIB::ifOutNUcastPkts.1 = Counter32: 0
IF-MIB::ifOutNUcastPkts.2 = Counter32: 0
IF-MIB::ifOutDiscards.1 = Counter32: 0
IF-MIB::ifOutDiscards.2 = Counter32: 0
IF-MIB::ifOutErrors.1 = Counter32: 0
IF-MIB::ifOutErrors.2 = Counter32: 0
IF-MIB::ifOutQLen.1 = Gauge32: 0
IF-MIB::ifOutQLen.2 = Gauge32: 0
IF-MIB::ifSpecific.1 = OID: SNMPv2-SMI::zeroDotZero
IF-MIB::ifSpecific.2 = OID: SNMPv2-SMI::zeroDotZero
IP-MIB::ipAdEntAddr.120.13.14.30 = IpAddress: 120.13.14.30
IP-MIB::ipAdEntAddr.172.16.1.254 = IpAddress: 172.16.1.254
IP-MIB::ipAdEntIfIndex.120.13.14.30 = INTEGER: 1
IP-MIB::ipAdEntIfIndex.172.16.1.254 = INTEGER: 2
IP-MIB::ipAdEntNetMask.120.13.14.30 = IpAddress: 255.255.255.192
IP-MIB::ipAdEntNetMask.172.16.1.254 = IpAddress: 255.255.255.0
IP-MIB::ipAdEntBcastAddr.120.13.14.30 = INTEGER: 0
IP-MIB::ipAdEntBcastAddr.172.16.1.254 = INTEGER: 0
IP-MIB::ipAdEntReasmMaxSize.120.13.14.30 = INTEGER: 65535
IP-MIB::ipAdEntReasmMaxSize.172.16.1.254 = INTEGER: 65535
		</pre>
		<p>如果你使用snmp v2版本尝试连接pix防火墙将会提示</p>
		<pre class="screen">
neo@monitor:~$ snmpwalk -v2c -c public 172.16.1.254
Timeout: No Response from 172.16.1.254
		</pre>

	</div>
	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.http"></a>7.1.14. 开启WEB管理</h3></div></div></div>
		
		<pre class="screen">
http server enable
http 172.16.0.1 255.255.255.255 inside
		</pre>
		<p>172.16.0.1 是from ip,或者允许一个IP段</p>
		<pre class="screen">
http 172.16.0.0 255.255.255.0 inside
		</pre>
		<p>http 登录密码</p>
		<pre class="screen">
username admin password ysCf4HUXoqIPDu1 privilege 15
		</pre>
		<p>https://172.16.0.254</p>
	</div>

	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.save"></a>7.1.15. 保存</h3></div></div></div>
		
		<span class="command"><strong>write memory</strong></span>
		<pre class="screen">
pix515(config)# write mem
Building configuration...
Cryptochecksum: 5641ca9c 2ef4c53c 0dc8a8f9 75d47f09
[OK]
pix515(config)#

		</pre>
	<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idp63"></a>7.1.15.1. 备份及恢复</h4></div></div></div>
		
		<p>备份</p>
		<pre class="screen">
pix515(config)# write net 192.168.2.111:pix515.rtf
Building configuration...
TFTP write 'pix515.rtf' at 192.168.2.111 on interface 1
[OK]
		</pre>
		<p>恢复</p>
		<pre class="screen">
pix515(config)# clear config all  是清除所有配置
如何想要通过tftp恢复，得要先配置一下inside接口地址：
pixfirewall(config)# ip add inside 192.168.2.1 255.255.255.0
pixfirewall(config)# ping 192.168.2.111  测试一下到TFTP服务器是否通
        192.168.2.111 response received -- 0ms
        192.168.2.111 response received -- 0ms
        192.168.2.111 response received -- 0ms
pix515(config)# configure net 192.168.2.111:pix515.rtf
Global 10.6.6.151 will be Port Address Translated
Global 10.6.6.150 will be Port Address Translated
Global 10.6.6.211 will be Port Address Translated
.
Cryptochecksum(unchanged): ead0c833 1ed19938 b863ace2 4902f21b
Config OK
		</pre>
	</div>
	</div>

	<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="firewall.xlate"></a>7.1.16. clear</h3></div></div></div>
		
		<pre class="screen">
clear xlate
clear arp
clear local-host
		</pre>
		
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idp64"></a>7.1.16.1. NAT映射更改后仍然指向之前的IP</h4></div></div></div>
			
			<pre class="screen">
clear xlate
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="idp65"></a>7.1.16.2. reload</h4></div></div></div>
			
			<pre class="screen">
fix515(config)# reload
			</pre>
		</div>
	</div>
</div>

	


	
	
	
</div><div xmlns="" id="disqus_thread"></div><script xmlns="">

var disqus_config = function () {
this.page.url = "http://www.netkiller.cn";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = 'netkiller'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//netkiller.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script><noscript xmlns="">Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><br xmlns="" /><script xmlns="" type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=r5HG&amp;d=9mi5r_kkDC8uxG8HuY3p4-2qgeeVypAK9vMD-2P6BYM"></script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="switch.example.html">上一页</a> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="asa.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">6.14. Switch Config Example </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 7.2. Cisco ASA Firewall</td></tr></table></div><script xmlns="">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11694057-1', 'auto');
  ga('send', 'pageview');

</script><script xmlns="" async="async">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?93967759a51cda79e49bf4e34d0b0f2c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script xmlns="" async="async">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><script xmlns="" type="text/javascript" src="/js/q.js" async="async"></script></body></html>