<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Netkiller Mail Server 手札</title><link rel="stylesheet" type="text/css" href="/docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets V1.79.1" /><meta name="description" content="内容摘要 本文档讲述Linux系统涵盖了系统管理与配置包括： 对初学Linux的爱好者忠告 玩Linux最忌reboot（重新启动）这是windows玩家坏习惯 Linux只要接上电源你就不要再想用reboot,shutdown,halt,poweroff命令,Linux系统和应用软件一般备有reload,reconfigure,restart/start/stop...不需要安装软件或配置服务器后使用reboot重新引导计算机 在Linux系统里SIGHUP信号被定义为刷新配置文件,有些程序没有提供reload参数,你可以给进程发送HUP信号,让它刷新配置文件,而不用restart.通过pkill,killall,kill 都可以发送HUP信号例如: pkill -HUP httpd 我的系列文档: 操作系统 操作系统 Netkiller Linux 手札 Netkiller FreeBSD 手札 Netkiller Shell 手札 Netkiller Security 手札 Netkiller Web 手札 Netkiller Monitoring 手札 Netkiller Storage 手札 Netkiller Mail 手札 Netkiller Virtualization 手札 以下文档停止更新合并到 《Netkiller Linux 手札》 Netkiller Debian 手札 Netkiller CentOS 手札 Netkiller Multimedia 手札" /><link rel="home" href="index.html" title="Netkiller Mail Server 手札" /><link rel="next" href="preface.html" title="自述" /></head><body><a xmlns="" href="//www.netkiller.cn/">Home</a> |
		<a xmlns="" href="//netkiller.github.io/">简体中文</a> |
	    <a xmlns="" href="http://netkiller.sourceforge.net/">繁体中文</a> |
	    <a xmlns="" href="/journal/index.html">杂文</a> |
	    <a xmlns="" href="//www.netkiller.cn/home/donations.html">打赏(Donations)</a> |
	    <a xmlns="" href="http://netkiller-github-com.iteye.com/">ITEYE 博客</a> |
	    <a xmlns="" href="http://my.oschina.net/neochen/">OSChina 博客</a> |
	    <a xmlns="" href="https://www.facebook.com/bg7nyt">Facebook</a> |
	    <a xmlns="" href="http://cn.linkedin.com/in/netkiller/">Linkedin</a> |
	    <a xmlns="" href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> |
	    <a xmlns="" href="/search.html">Search</a> |
		<a xmlns="" href="mailto:netkiller@msn.com">Email</a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Netkiller Mail Server 手札</th></tr><tr><td width="20%" align="left"> </td><th width="60%" align="center"> </th><td width="20%" align="right"> <a accesskey="n" href="preface.html">Next</a></td></tr></table><hr /></div><table xmlns=""><tr><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=watch&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=fork&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;type=follow&amp;count=true&amp;size=large" height="30" width="240" frameborder="0" scrolling="0" style="width:240px; height: 30px;" allowTransparency="true"></iframe></td></tr></table><div xml:lang="en-us" class="book" lang="en-us"><div class="titlepage"><div><div><h1 class="title"><a id="idp1"></a>Netkiller Mail Server 手札</h1></div><div><h2 class="subtitle"><a class="ulink" href="../postfix/index.html" target="_top">《Netkiller Postfix Integrated Solution》</a>后续文档</h2></div><div><div class="author"><h3 class="author"><span class="honorific">Mr</span>. <span class="firstname">Neo</span> <span class="othername"></span> <span class="surname">Chan</span>, <span class="lineage">陈景峯(BG7NYT)</span></h3><div class="affiliation">
			<div class="address"><p><br />
				<span class="country">中国</span><span class="state">广东省</span><span class="city">深圳市</span><span class="street">龙华新区民治街道溪山美地</span><br />
				<span class="postcode">518131</span><br />
				<span class="phone">+86 13113668890</span><br />
				<br />
				<code class="email">&lt;<a class="email" href="mailto:netkiller@msn.com">netkiller@msn.com</a>&gt;</code><br />
			</p></div>

		</div></div></div><div><p class="copyright">Copyright © 2010-2017 Copyright netkiller</p></div><div><div class="legalnotice"><a id="legalnotice"></a>
	<p class="legalnotice-title"><strong>版权声明</strong></p>
	<p>转载请与作者联系，转载时请务必标明文章原始出处和作者信息及本声明。</p>
	<table border="0" summary="Simple list" class="simplelist"><tr><td>
		<a class="ulink" href="http://creativecommons.org/licenses/by/3.0/" target="_top">
			<div><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="180"><tr><td><img src="/images/by-nc-sa.png" width="180" /></td></tr></table></div>
		</a>
		</td><td>
			<table border="0" summary="Simple list" class="simplelist"><tr><td>
					文档出处:
				</td></tr><tr><td>
					<a class="ulink" href="http://netkiller.github.io/" target="_top">http://netkiller.github.io</a>
				</td></tr><tr><td>
					<a class="ulink" href="http://netkiller.sourceforge.net/" target="_top">http://netkiller.sourceforge.net</a>
				</td></tr></table>
		</td><td>
			<a class="ulink" href="/images/weixin.jpg" target="_top"><div><table border="0" summary="manufactured viewport for HTML img" style="cellpadding: 0; cellspacing: 0;" width="80"><tr><td><img src="/images/weixin.jpg" width="80" /></td></tr></table></div></a>
		</td><td>
			<p>微信扫描二维码进入 Netkiller 微信订阅号 </p>
			<p>QQ群：128659835 请注明“读者”</p>
		</td></tr></table>
	<p></p>
</div></div><div><div class="abstract"><p class="title"><strong>内容摘要</strong></p>
	
	<p>本文档讲述Linux系统涵盖了系统管理与配置包括：</p>
	<p>
		</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><table border="0" summary="Note: 对初学Linux的爱好者忠告"><tr><td rowspan="2" align="center" valign="top" width="25"><img alt="[Note]" src="/graphics/note.png" /></td><th align="left">对初学Linux的爱好者忠告</th></tr><tr><td align="left" valign="top">
			
			<p>玩Linux最忌reboot（重新启动）这是windows玩家坏习惯</p>
			<p>Linux只要接上电源你就不要再想用reboot,shutdown,halt,poweroff命令,Linux系统和应用软件一般备有reload,reconfigure,restart/start/stop...不需要安装软件或配置服务器后使用reboot重新引导计算机
			</p>
			<p>在Linux系统里SIGHUP信号被定义为刷新配置文件,有些程序没有提供reload参数,你可以给进程发送HUP信号,让它刷新配置文件,而不用restart.通过pkill,killall,kill
				都可以发送HUP信号例如: pkill -HUP httpd</p>
		</td></tr></table></div><p>
	</p>
	<p>我的系列文档:</p>
	<p>操作系统</p>
	<table border="0" summary="Simple list" class="simplelist"><tr><td>
			<a class="ulink" href="../linux/index.html" target="_top">Netkiller Linux 手札</a>
		</td></tr><tr><td>
			<a class="ulink" href="../freebsd/index.html" target="_top">Netkiller FreeBSD 手札</a>
		</td></tr><tr><td>
			<a class="ulink" href="../shell/index.html" target="_top">Netkiller Shell 手札</a>
		</td></tr><tr><td>
			<a class="ulink" href="../security/index.html" target="_top">Netkiller Security 手札</a>
		</td></tr><tr><td>
			<a class="ulink" href="../www/index.html" target="_top">Netkiller Web 手札</a>
		</td></tr><tr><td>
			<a class="ulink" href="../monitoring/index.html" target="_top">Netkiller Monitoring 手札</a>
		</td></tr><tr><td>
			<a class="ulink" href="../storage/index.html" target="_top">Netkiller Storage 手札</a>
		</td></tr><tr><td>
			<a class="ulink" href="../mail/index.html" target="_top">Netkiller Mail 手札</a>
		</td></tr><tr><td>
			<a class="ulink" href="../virtualization/index.html" target="_top">Netkiller Virtualization 手札</a>
		</td></tr></table>

	<p>以下文档停止更新合并到 《Netkiller Linux 手札》</p>
	<table border="0" summary="Simple list" class="simplelist"><tr><td>
			<a class="ulink" href="../debian/index.html" target="_top">Netkiller Debian 手札</a>
		</td><td>
			<a class="ulink" href="../centos/index.html" target="_top">Netkiller CentOS 手札</a>
		</td><td>
			<a class="ulink" href="../multimedia/index.html" target="_top">Netkiller Multimedia 手札</a>
		</td><td> </td><td> </td><td> </td></tr></table>
</div></div></div><hr /></div><div class="dedication"><div class="titlepage"><div><div><h1 class="title"><a id="dedication"></a></h1></div></div></div>
	

</div><div class="toc"><p><strong>Table of Contents</strong></p><dl class="toc"><dt><span class="preface"><a href="preface.html">1. 自述</a></span></dt><dd><dl><dt><span class="section"><a href="preface.html#preface.contents">1.1. 系列文档</a></span></dt><dt><span class="section"><a href="author.html">1.2. 作者简介</a></span></dt><dt><span class="section"><a href="reader.html">1.3. 写给读者</a></span></dt><dt><span class="section"><a href="preface.download.html">1.4. 文档下载</a></span></dt><dt><span class="section"><a href="pr01s05.html">1.5. 打赏（Donations）</a></span></dt><dd><dl><dt><span class="section"><a href="pr01s05.html#idp3">1.5.1. 微信（Wechat）</a></span></dt><dt><span class="section"><a href="pr01s05.html#idp4">1.5.2. 支付宝（Alipay）</a></span></dt><dt><span class="section"><a href="pr01s05.html#paypal">1.5.3. PayPal Donations</a></span></dt><dt><span class="section"><a href="pr01s05.html#bank">1.5.4. 银行(Bank)</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="constituent.html">1. Mail server constituent</a></span></dt><dt><span class="chapter"><a href="mua/index.html">2. mail user agent (MUA)</a></span></dt><dd><dl><dt><span class="section"><a href="mua/index.html#mail">2.1. mail</a></span></dt><dt><span class="section"><a href="mua/mutt.html">2.2. mutt - text-based mailreader supporting MIME, GPG, PGP and threading</a></span></dt><dd><dl><dt><span class="section"><a href="mua/mutt.html#idp5">2.2.1. 发送邮件</a></span></dt></dl></dd><dt><span class="section"><a href="mua/alpine.html">2.3. alpine - Text-based email client, friendly for novices but powerful</a></span></dt><dt><span class="section"><a href="mua/fetchmail.html">2.4. fetchmail - SSL enabled POP3, APOP, IMAP mail gatherer/forwarder</a></span></dt><dt><span class="section"><a href="mua/gpg4win.html">2.5. GPG4WIN</a></span></dt><dt><span class="section"><a href="mua/evolution.html">2.6. Evolution</a></span></dt></dl></dd><dt><span class="chapter"><a href="exim/index.html">3. exim - meta-package to ease Exim MTA (v4) installation</a></span></dt><dd><dl><dt><span class="section"><a href="exim/index.html#install">3.1. install</a></span></dt><dd><dl><dt><span class="section"><a href="exim/index.html#idp7">3.1.1. ubuntu/debian</a></span></dt><dd><dl><dt><span class="section"><a href="exim/index.html#idp6">3.1.1.1. configure</a></span></dt></dl></dd><dt><span class="section"><a href="exim/index.html#idp8">3.1.2. CentOS/Redhat</a></span></dt></dl></dd><dt><span class="section"><a href="exim/exim.html">3.2. exim 命令</a></span></dt><dd><dl><dt><span class="section"><a href="exim/exim.html#idp9">3.2.1. 刷新邮件队列</a></span></dt></dl></dd><dt><span class="section"><a href="exim/main.conf.html">3.3. 配置exim</a></span></dt><dd><dl><dt><span class="section"><a href="exim/main.conf.html#idp10">3.3.1. /etc/aliases 别名配置</a></span></dt></dl></dd><dt><span class="section"><a href="exim/faq.html">3.4. FAQ</a></span></dt><dd><dl><dt><span class="section"><a href="exim/faq.html#idp11">3.4.1. Mailing to remote domains not supported</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="postfix/index.html">4. postfix - High-performance mail transport agent</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/index.html#install">4.1. install</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/index.html#ubuntu">4.1.1. Ubuntu</a></span></dt><dt><span class="section"><a href="postfix/index.html#centos">4.1.2. CentOS</a></span></dt><dt><span class="section"><a href="postfix/index.html#idp12">4.1.3. OSCM 通过配置管理脚本安装</a></span></dt></dl></dd><dt><span class="section"><a href="postfix/conf.html">4.2. 配置 Postfix</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/conf.html#transport_maps">4.2.1. 转发配置</a></span></dt><dt><span class="section"><a href="postfix/conf.html#smtpd_recipient_restrictions">4.2.2. 拒收垃圾邮件</a></span></dt><dt><span class="section"><a href="postfix/conf.html#mailbox">4.2.3. 收件箱配置</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/conf.html#idp13">4.2.3.1. Mailbox 配置</a></span></dt><dt><span class="section"><a href="postfix/conf.html#idp14">4.2.3.2. Maildir 配置</a></span></dt><dt><span class="section"><a href="postfix/conf.html#idp15">4.2.3.3. 传统Unix风格邮箱配置</a></span></dt></dl></dd><dt><span class="section"><a href="postfix/conf.html#destination">4.2.4. 邮件投递</a></span></dt><dt><span class="section"><a href="postfix/conf.html#queue">4.2.5. 队列配置</a></span></dt><dt><span class="section"><a href="postfix/conf.html#client">4.2.6. 客户端</a></span></dt></dl></dd><dt><span class="section"><a href="postfix/ch04s03.html">4.3. aliases</a></span></dt><dt><span class="section"><a href="postfix/dkim.html">4.4. dkim</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/dkim.html#idp16">4.4.1. 增加域名</a></span></dt><dt><span class="section"><a href="postfix/dkim.html#idp17">4.4.2. 测试</a></span></dt></dl></dd><dt><span class="section"><a href="postfix/rspamd.html">4.5. Rspamd</a></span></dt><dt><span class="section"><a href="postfix/maillog.html">4.6. /var/log/maillog</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/maillog.html#idp18">4.6.1. 计算每分钟发送数量日志统计</a></span></dt><dt><span class="section"><a href="postfix/maillog.html#idp19">4.6.2. 虚假地址统计</a></span></dt></dl></dd><dt><span class="section"><a href="postfix/cmd.html">4.7. Post 命令</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/cmd.html#postconf">4.7.1. postconf - Postfix configuration utility</a></span></dt><dt><span class="section"><a href="postfix/cmd.html#postsuper">4.7.2. postsuper</a></span></dt><dt><span class="section"><a href="postfix/cmd.html#idp22">4.7.3. postqueue - Postfix queue control</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/cmd.html#idp20">4.7.3.1. 列出队列</a></span></dt><dt><span class="section"><a href="postfix/cmd.html#idp21">4.7.3.2. 刷新队列</a></span></dt></dl></dd><dt><span class="section"><a href="postfix/cmd.html#postmulti">4.7.4. postmulti - Postfix multi-instance manager</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/cmd.html#idp23">4.7.4.1. 绑定IP地址</a></span></dt><dt><span class="section"><a href="postfix/cmd.html#idp24">4.7.4.2. postfix 多实例配置</a></span></dt><dt><span class="section"><a href="postfix/cmd.html#idp25">4.7.4.3. 配置 iptables 让SMTPD发送邮件时依次轮询外发IP地址，这样就不会被封锁。</a></span></dt></dl></dd></dl></dd><dt><span class="section"><a href="postfix/example.html">4.8. Example</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/example.html#idp26">4.8.1. 站内电邮发送</a></span></dt><dt><span class="section"><a href="postfix/example.html#idp27">4.8.2. EDM 服务器</a></span></dt></dl></dd><dt><span class="section"><a href="postfix/faq.html">4.9. FAQ</a></span></dt><dd><dl><dt><span class="section"><a href="postfix/faq.html#idp28">4.9.1. SMTP ERROR: RCPT TO command failed: 501 5.1.3 Bad recipient address syntax</a></span></dt><dt><span class="section"><a href="postfix/faq.html#idp29">4.9.2. connect to gmail-smtp-in.l.google.com[2607:f8b0:400e:c00::1a]:25: Network is unreachable</a></span></dt><dt><span class="section"><a href="postfix/faq.html#idp30">4.9.3. opendkim[5762]: 3012A802C1DD: [49.213.11.18] [49.213.11.18] not internal</a></span></dt><dt><span class="section"><a href="postfix/faq.html#idp31">4.9.4. opendkim[12578]: 4CC5C802C382: no signature data</a></span></dt><dt><span class="section"><a href="postfix/faq.html#idp32">4.9.5. /etc/opendkim/keys/default.private: open(): No such file or directory</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="devel/index.html">5. 邮件原文</a></span></dt><dd><dl><dt><span class="section"><a href="devel/index.html#format.subject">5.1. Subject Unicode</a></span></dt><dt><span class="section"><a href="devel/format.to.html">5.2. TO/CC/BCC</a></span></dt><dt><span class="section"><a href="devel/format.content.html">5.3. 正文</a></span></dt><dt><span class="section"><a href="devel/pop.sniffer.html">5.4. POP Sniffer</a></span></dt><dt><span class="section"><a href="devel/php.mail.html">5.5. PHP mail()</a></span></dt></dl></dd><dt><span class="chapter"><a href="spam/index.html">6. 反垃圾邮件相关</a></span></dt><dd><dl><dt><span class="section"><a href="spam/index.html#spf">6.1. Sender Policy Framework</a></span></dt><dd><dl><dt><span class="section"><a href="spam/index.html#idp33">6.1.1. 分析 SPF 记录</a></span></dt></dl></dd><dt><span class="section"><a href="spam/dkim.html">6.2. DKIM</a></span></dt><dt><span class="section"><a href="spam/spam.html">6.3. 邮件被拒收处理方法</a></span></dt><dd><dl><dt><span class="section"><a href="spam/spam.html#netease">6.3.1. NetEase</a></span></dt><dt><span class="section"><a href="spam/spam.html#sohu">6.3.2. Sohu</a></span></dt><dt><span class="section"><a href="spam/spam.html#tom">6.3.3. Tom</a></span></dt><dt><span class="section"><a href="spam/spam.html#qq">6.3.4. QQ</a></span></dt><dt><span class="section"><a href="spam/spam.html#21cn">6.3.5. 21CN</a></span></dt></dl></dd></dl></dd><dt><span class="chapter"><a href="fax.html">7. Fax</a></span></dt><dd><dl><dt><span class="section"><a href="fax.html#HylaFAX">7.1. HylaFAX</a></span></dt></dl></dd><dt><span class="chapter"><a href="faq/index.html">8. 邮件错误代码</a></span></dt><dd><dl><dt><span class="section"><a href="faq/index.html#smtp.code">8.1. SMTP 错误代码大全</a></span></dt><dt><span class="section"><a href="faq/smtp.error.html">8.2. SMTP错误、DNS错误代码表</a></span></dt><dt><span class="section"><a href="faq/outlook.html">8.3. Outlook Express</a></span></dt><dt><span class="section"><a href="faq/mailx.html">8.4. -bash: mail: command not found</a></span></dt></dl></dd></dl></div><div class="list-of-examples"><p><strong>List of Examples</strong></p><dl><dt>5.1. <a href="devel/index.html#idp34">Subject Unicode</a></dt></dl></div>
	

	
	



	
	
	
	




	

	
	
	




	

	





	

	




	

</div><div xmlns="" id="disqus_thread"></div><script xmlns="">

var disqus_config = function () {
this.page.url = "http://www.netkiller.cn";  // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = 'netkiller'; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};

(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');
s.src = '//netkiller.disqus.com/embed.js';
s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script><noscript xmlns="">Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript><br xmlns="" /><script xmlns="" type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=r5HG&amp;d=9mi5r_kkDC8uxG8HuY3p4-2qgeeVypAK9vMD-2P6BYM"></script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"> </td><td width="20%" align="center"> </td><td width="40%" align="right"> <a accesskey="n" href="preface.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top"> </td><td width="20%" align="center"> </td><td width="40%" align="right" valign="top"> 自述</td></tr></table></div><script xmlns="">
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-11694057-1', 'auto');
  ga('send', 'pageview');

</script><script xmlns="" async="async">
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "https://hm.baidu.com/hm.js?93967759a51cda79e49bf4e34d0b0f2c";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script><script xmlns="" async="async">
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script><script xmlns="" type="text/javascript" src="/js/q.js" async="async"></script></body></html>