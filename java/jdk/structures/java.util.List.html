<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>8.2. List</title><link rel="stylesheet" type="text/css" href="../../docbook.css" /><meta name="generator" content="DocBook XSL Stylesheets Vsnapshot" /><link rel="home" href="../../index.html" title="Netkiller Java 手札（版）" /><link rel="up" href="index.html" title="第 8 章 数据结构" /><link rel="prev" href="index.html" title="第 8 章 数据结构" /><link rel="next" href="ArrayList.html" title="8.3. ArrayList" /></head><body><a xmlns="" href="//www.netkiller.cn/">Home</a> | <a xmlns="" href="//netkiller.github.io/">简体中文</a> | <a xmlns="" href="http://netkiller.sourceforge.net/">繁体中文</a> | <a xmlns="" href="/journal/index.html">杂文</a>
		| <a xmlns="" href="https://github.com/netkiller">Github</a> | <a xmlns="" href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a> | <a xmlns="" href="https://www.facebook.com/bg7nyt">Facebook</a> | <a xmlns="" href="http://cn.linkedin.com/in/netkiller/">Linkedin</a> | <a xmlns="" href="https://www.youtube.com/user/bg7nyt/videos">Youtube</a> | <a xmlns="" href="//www.netkiller.cn/home/donations.html">打赏(Donations)</a> | <a xmlns="" href="//www.netkiller.cn/home/about.html">About</a><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">8.2. List</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="index.html">上一页</a> </td><th width="60%" align="center">第 8 章 数据结构</th><td width="20%" align="right"> <a accesskey="n" href="ArrayList.html">下一页</a></td></tr></table><hr /></div><table xmlns=""><tr><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=watch&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;repo=netkiller.github.io&amp;type=fork&amp;count=true&amp;size=large" height="30" width="170" frameborder="0" scrolling="0" style="width:170px; height: 30px;" allowTransparency="true"></iframe></td><td><iframe src="//ghbtns.com/github-btn.html?user=netkiller&amp;type=follow&amp;count=true&amp;size=large" height="30" width="240" frameborder="0" scrolling="0" style="width:240px; height: 30px;" allowTransparency="true"></iframe></td><td></td><td><a href="https://zhuanlan.zhihu.com/netkiller"><img src="/images/logo/zhihu-card-default.svg" height="25" /></a></td><td valign="middle"><a href="https://zhuanlan.zhihu.com/netkiller">知乎专栏</a></td><td></td><td></td><td></td><td></td></tr></table><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="java.util.List"></a>8.2. List</h2></div></div></div>
		


		<pre class="programlisting">
		
package cn.netkiller.example;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.Collection;
import java.util.HashSet;
import java.util.LinkedHashSet;
import java.util.LinkedList;
import java.util.TreeSet;

public class Test {

	public Test() {
		// TODO Auto-generated constructor stub
	}

	public static void main(String[] args) {
		// TODO Auto-generated method stub

		// A A B E F G C D
		String[] array = { "A", "A", "B", "E", "F", "G", "C", "D" };
		Collection&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(array));
		for (String str : list) {
			System.out.print(str + " ");
		}
		System.out.println();

		// A A B E F G C D
		Collection&lt;String&gt; linkedList = new LinkedList&lt;String&gt;(Arrays.asList(array));
		for (String str : linkedList) {
			System.out.print(str + " ");
		}
		System.out.println();

		// 无重复，无序 D E F G A B C
		Collection&lt;String&gt; hashSet = new HashSet&lt;String&gt;(Arrays.asList(array));
		for (String str : hashSet) {
			System.out.print(str + " ");
		}
		System.out.println();

		// 无重复 A B C D E F G
		Collection&lt;String&gt; treeSet = new TreeSet&lt;String&gt;(Arrays.asList(array));
		for (String str : treeSet) {
			System.out.print(str + " ");
		}
		System.out.println();

		// 无重复 A B E F G C D
		Collection&lt;String&gt; linkedHashSet = new LinkedHashSet&lt;String&gt;(Arrays.asList(array));
		for (String str : linkedHashSet) {
			System.out.print(str + " ");

		}

	}

}
		
		</pre>
		<p>输出结果</p>
		<pre class="screen">
			A A B E F G C D
			A A B E F G C D
			A B C D E F G
			A B C D E F G
			A B E
			F G C D
		</pre>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id829"></a>8.2.1. 静态 List</h3></div></div></div>
			
			<pre class="programlisting">
			
	public static List&lt;String&gt; list = new ArrayList&lt;String&gt;();
	static {
		list.add("录入");
		list.add("变更");
		list.add("收藏");
		list.add("在售");
		list.add("展出");
	}			
				
			
			</pre>
		</div>



		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="List.of()"></a>8.2.2. List.of()</h3></div></div></div>
			
			<pre class="programlisting">
		
List&lt;String&gt; strings = List.of("first", "second");		
		
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="List.copyOf()"></a>8.2.3. List.copyOf()</h3></div></div></div>
			
			<pre class="screen">
			
var list = List.of("Java", "Python", "C");
var copy = List.copyOf(list);
System.out.println(list == copy); // true
			
			</pre>
			<pre class="programlisting">
		
var list = new ArrayList&lt;String&gt;();
var copy = List.copyOf(list);
System.out.println(list == copy); // false
		
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="Arrays.asList"></a>8.2.4. String[] to List</h3></div></div></div>
			
			<pre class="programlisting">
		
String[] arr = new String[] {"1", "2"};
List list = Arrays.asList(arr);		
		
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="Collectors.toList"></a>8.2.5. Stream.toList() 方法</h3></div></div></div>
			
			<p>数组转List</p>
			<pre class="programlisting">
			
String[] arrays = {"tom", "jack", "kate"};
List&lt;String&gt; stringList= Stream.of(arrays).collect(Collectors.toList());			
			
			</pre>
			<pre class="programlisting">
			
package cn.netkiller.demo;

import java.util.Arrays;
import java.util.List;
import java.util.stream.Collectors;

public class TestList {

	public TestList() {
		// TODO Auto-generated constructor stub
	}

	public static void main(String[] args) {

		List&lt;String&gt; list = Arrays.asList("1", "2", "3");
		// jdk11 之前这样写
		List&lt;Integer&gt; list1 = list.stream().map(Integer::parseInt).collect(Collectors.toList());
		System.out.println(list1);
		// jdk16 现在可以这样写
		List&lt;Integer&gt; list2 = list.stream().map(Integer::parseInt).toList();
		System.out.println(list2);

	}
}			
			
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="list.containsAll"></a>8.2.6. containsAll</h3></div></div></div>
			
			<pre class="programlisting">
			
        List&lt;String&gt; inputStringList = Arrays.asList("Neo|Netkiller|Tom|Jerry".split("|"));
        List&lt;String&gt; wordsList = Arrays.asList("Neo|Tom".split("|"));
        System.out.println(inputStringList.containsAll(wordsList));			
			
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="id831"></a>8.2.7. </h3></div></div></div>
			
			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="id830"></a>8.2.7.1. 过滤</h4></div></div></div>
				

				<pre class="programlisting">
			
package cn.netkiller.test;

import java.util.Arrays;
import java.util.List;

public class Test {


    public static void main(String[] args) throws InterruptedException {

        List&lt;String&gt; names = Arrays.asList("Alice", "Bob", "Charlie", "David");

        // 创建一个流并过滤出长度大于4的名字，然后打印
        names.stream()
                .filter(name -&gt; name.length() &gt; 4)
                .forEach(System.out::println);

    }

}			
			
				</pre>
			</div>
			<div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="stream.allMatch"></a>8.2.7.2. stream().allMatch()</h4></div></div></div>
				
				<pre class="programlisting">
			
        List&lt;String&gt; inputStringList = Arrays.asList("Neo|Netkiller|Tom|Jerry".split("|"));
        List&lt;String&gt; wordsList = Arrays.asList("Neo","Tom");
        System.out.println(wordsList.stream().allMatch(inputStringList::contains));			
			
				</pre>
			</div>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="随机获取List元素"></a>8.2.8. 随机 List</h3></div></div></div>
			
			<pre class="programlisting">
			
List&lt;String&gt; list = Arrays.asList("a","b","c");
int index = (int) (Math.random()* list.size());
System.out.println(list.get(index));			
			
			</pre>
			<pre class="programlisting">
			
import java.util.ArrayList;
import java.util.List;
import java.util.Random;

public class RandomListElement {
    public static void main(String[] args) {
        // 初始化一个列表
        List&lt;String&gt; list = new ArrayList&lt;&gt;();
        list.add("元素1");
        list.add("元素2");
        list.add("元素3");
        list.add("元素4");
        list.add("元素5");

        // 方法1：使用 Random 类
        Random random = new Random();
        String randomElement1 = list.get(random.nextInt(list.size()));
        System.out.println("随机选取的元素 (使用 Random): " + randomElement1);

        // 方法2：使用 ThreadLocalRandom (Java 8+)
        String randomElement2 = list.get(
                java.util.concurrent.ThreadLocalRandom.current().nextInt(list.size())
        );
        System.out.println("随机选取的元素 (使用 ThreadLocalRandom): " + randomElement2);
    }
}			
			
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="getFirst"></a>8.2.9. getFirst() / getLast()</h3></div></div></div>
			
			<p>使用 idea 写代码，list 变量可以看到 getFirst() / getLast() 但实际上 list
				并没有两个方法，这时 idea 模版造成的。
			</p>
			<pre class="screen">
			
java: 找不到符号
  符号:   方法 getFirst()
  位置: 类型为java.util.ArrayList&lt;java.lang.String&gt;的变量 list			
			
			</pre>

			<pre class="programlisting">
			
        // 创建一个ArrayList对象
        ArrayList&lt;String&gt; list = new ArrayList&lt;&gt;();

        // 添加元素到列表中
        list.add("apple");
        list.add("banana");
        list.add("orange");

        // 获取最后一个元素
//        String firstElement = list.getFirst();
//        String lastElement = list.getLast();
        String lastElement = list.get(list.size() - 1);
        System.out.println("最后一个元素是：" + lastElement);			
			
			</pre>
		</div>
		<div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="List.toArray"></a>8.2.10. List 转 Array</h3></div></div></div>
			
			<pre class="programlisting">
			
        List&lt;CompletableFuture&lt;String&gt;&gt; completableFutures = Stream.of(future1, future2, future3).toList();
        CompletableFuture[] completableFutureArray = completableFutures.toArray(CompletableFuture[]::new);			
			
		List&lt;CompletableFuture&lt;String&gt;&gt; completableFutures = Stream.of(future1, future2, future3).toList();
        var completableFutureArray = completableFutures.toArray(CompletableFuture[]::new);
			
			</pre>
		</div>
	</div><div xmlns="" id="SOHUCS"></div><script xmlns="" charset="utf-8" type="text/javascript" src="https://cy-cdn.kuaizhan.com/upload/changyan.js"></script><script xmlns="" type="text/javascript">
			window.changyan.api.config({
			appid: 'cyvwjQUG3',
			conf: 'prod_ef966242df3d8b5acb1e0ee9fc01cafe'
			});
</script><script xmlns="" type="text/javascript" id="clustrmaps" src="//cdn.clustrmaps.com/map_v2.js?u=r5HG&amp;d=9mi5r_kkDC8uxG8HuY3p4-2qgeeVypAK9vMD-2P6BYM"></script><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="index.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="index.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="ArrayList.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">第 8 章 数据结构 </td><td width="20%" align="center"><a accesskey="h" href="../../index.html">起始页</a></td><td width="40%" align="right" valign="top"> 8.3. ArrayList</td></tr></table></div><script xmlns="">
			(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

			ga('create', 'UA-11694057-1', 'auto');
			ga('send', 'pageview');

		</script><script xmlns="" async="async">
			var _hmt = _hmt || [];
			(function() {
			var hm = document.createElement("script");
			hm.src = "https://hm.baidu.com/hm.js?93967759a51cda79e49bf4e34d0b0f2c";
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(hm, s);
			})();
</script><script xmlns="" async="async">
			(function(){
			var bp = document.createElement('script');
			var curProtocol = window.location.protocol.split(':')[0];
			if (curProtocol === 'https') {
			bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
			}
			else {
			bp.src = 'http://push.zhanzhang.baidu.com/push.js';
			}
			var s = document.getElementsByTagName("script")[0];
			s.parentNode.insertBefore(bp, s);
			})();
</script></body></html>